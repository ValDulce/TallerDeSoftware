<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pago</title>
    <link rel="stylesheet" href="Estilos.css">
</head>
<body>
    <h1>Productos en el carrito:</h1>
    <ul id="cart-items"></ul>

    <button onclick="vaciarCarrito()">Vaciar Carrito</button>

    <script>
        // Leer los productos del almacenamiento local y mostrarlos en la pÃ¡gina
        document.addEventListener("DOMContentLoaded", function() {
            mostrarProductosEnCarrito();
        });

        function mostrarProductosEnCarrito() {
            var cartItems = JSON.parse(localStorage.getItem("cartProducts"));
            var cartList = document.getElementById("cart-items");
            cartList.innerHTML = ""; // Limpiar la lista antes de agregar nuevos elementos
            if (cartItems && cartItems.length > 0) {
                cartItems.forEach(function(item, index) {
                    var li = document.createElement("li");
                    var span = document.createElement("span");
                    span.textContent = (index + 1) + ". " + item;
                    li.appendChild(span);
                    var button = document.createElement("button");
                    button.textContent = "Eliminar";
                    button.onclick = function() {
                        eliminarProducto(index);
                    };
                    li.appendChild(button);
                    cartList.appendChild(li);
                });
            } else {
                var li = document.createElement("li");
                li.textContent = "No hay productos en el carrito";
                cartList.appendChild(li);
            }
        }

        function vaciarCarrito() {
            localStorage.removeItem("cartProducts");
            mostrarProductosEnCarrito(); // Actualizar la lista de productos en el carrito
        }

        function eliminarProducto(index) {
            var cartItems = JSON.parse(localStorage.getItem("cartProducts"));
            cartItems.splice(index, 1); // Eliminar el producto del carrito
            localStorage.setItem("cartProducts", JSON.stringify(cartItems));
            mostrarProductosEnCarrito(); // Actualizar la lista de productos en el carrito
        }
    </script>
    <script src="Funciones.js"></script>
</body>
</html>
